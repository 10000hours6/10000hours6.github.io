<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="常见DNS记录说明A记录主机名称，域名对应的具体IP 查询方式 1、nslookup domain （nslookup不指定参数，默认查询A记录） 123456789➜  ~ nslookup baidu.comServer:		2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02Address:	2408:8409:1890:930d:dd4d:ca4d:dc8a:cc">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2022/07/29/network/dns/DNS%E8%AE%B0%E5%BD%95%E5%8F%8A%E8%AE%BE%E7%BD%AE/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="常见DNS记录说明A记录主机名称，域名对应的具体IP 查询方式 1、nslookup domain （nslookup不指定参数，默认查询A记录） 123456789➜  ~ nslookup baidu.comServer:		2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02Address:	2408:8409:1890:930d:dd4d:ca4d:dc8a:cc">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/Users/admin/study/network/DNS/image-20221017093725159.png">
<meta property="og:image" content="http://example.com/Users/admin/study/network/DNS/image-20221017093914858.png">
<meta property="og:image" content="http://example.com/Users/admin/study/network/DNS/image-20221017094224747.png">
<meta property="og:image" content="http://example.com/Users/admin/study/network/DNS/image-20221017094643206.png">
<meta property="og:image" content="http://example.com/Users/admin/study/network/DNS/image-20221017094812982.png">
<meta property="og:image" content="http://example.com/Users/admin/study/network/DNS/image-20221017095037791.png">
<meta property="article:published_time" content="2022-07-29T01:03:39.395Z">
<meta property="article:modified_time" content="2024-01-18T10:00:20.125Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/Users/admin/study/network/DNS/image-20221017093725159.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-network/dns/DNS记录及设置" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/29/network/dns/DNS%E8%AE%B0%E5%BD%95%E5%8F%8A%E8%AE%BE%E7%BD%AE/" class="article-date">
  <time class="dt-published" datetime="2022-07-29T01:03:39.395Z" itemprop="datePublished">2022-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="常见DNS记录说明"><a href="#常见DNS记录说明" class="headerlink" title="常见DNS记录说明"></a>常见DNS记录说明</h1><h2 id="A记录"><a href="#A记录" class="headerlink" title="A记录"></a>A记录</h2><p>主机名称，域名对应的具体IP</p>
<p><strong>查询方式</strong></p>
<p>1、nslookup domain （nslookup不指定参数，默认查询A记录）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup baidu.com</span><br><span class="line">Server:		2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02</span><br><span class="line">Address:	2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	baidu.com</span><br><span class="line">Address: 39.156.66.10</span><br><span class="line">Name:	baidu.com</span><br><span class="line">Address: 110.242.68.66</span><br></pre></td></tr></table></figure>

<p>2、host -t A domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ host -t A baidu.com</span><br><span class="line">baidu.com has address 39.156.66.10</span><br><span class="line">baidu.com has address 110.242.68.66</span><br></pre></td></tr></table></figure>



<h2 id="AAAA记录"><a href="#AAAA记录" class="headerlink" title="AAAA记录"></a>AAAA记录</h2><p>IPv6版本的A记录，指向的是IPv6地址</p>
<p>1、nslookup -type&#x3D;AAAA domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup -type=AAAA www.weibo.cn </span><br><span class="line">Server:		2408:8409:1801:5eba:9c9e:5813:ea08:23f9</span><br><span class="line">Address:	2408:8409:1801:5eba:9c9e:5813:ea08:23f9#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">www.weibo.cn	canonical name = weibo.cn.</span><br><span class="line">weibo.cn	has AAAA address 2400:89c0:1023:3::20</span><br><span class="line">weibo.cn	has AAAA address 2400:89c0:1013:3::17</span><br><span class="line">weibo.cn	has AAAA address 2400:89c0:1013:3::18</span><br><span class="line"></span><br><span class="line">Authoritative answers can be found from:</span><br></pre></td></tr></table></figure>

<p>2、host -t AAAA domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ host -t AAAA www.weibo.cn</span><br><span class="line">www.weibo.cn is an alias for weibo.cn.</span><br><span class="line">weibo.cn has IPv6 address 2400:89c0:1013:3::17</span><br><span class="line">weibo.cn has IPv6 address 2400:89c0:1023:3::20</span><br><span class="line">weibo.cn has IPv6 address 2400:89c0:1013:3::18</span><br></pre></td></tr></table></figure>



<h2 id="NS记录"><a href="#NS记录" class="headerlink" title="NS记录"></a>NS记录</h2><p>域名服务器记录，也就是该记录指定由那台服务器解析域名</p>
<p>baidu.com存在5个DNS服务器用于解析</p>
<p>nslookup -type&#x3D;NS domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup -type=NS baidu.com</span><br><span class="line">Server:		2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02</span><br><span class="line">Address:	2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">baidu.com	nameserver = ns3.baidu.com.</span><br><span class="line">baidu.com	nameserver = ns4.baidu.com.</span><br><span class="line">baidu.com	nameserver = dns.baidu.com.</span><br><span class="line">baidu.com	nameserver = ns7.baidu.com.</span><br><span class="line">baidu.com	nameserver = ns2.baidu.com.</span><br><span class="line"></span><br><span class="line">Authoritative answers can be found from:</span><br></pre></td></tr></table></figure>

<p>NS记录依赖于A记录的解析，要设置NS记录，首先需要给NS记录创建A记录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup ns3.baidu.com</span><br><span class="line">Server:		2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02</span><br><span class="line">Address:	2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	ns3.baidu.com</span><br><span class="line">Address: 112.80.248.64</span><br></pre></td></tr></table></figure>

<p><strong>查询方式</strong></p>
<p>1、nslookup -type&#x3D;NS domain</p>
<p>2、host -t NS domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ host -t NS baidu.com</span><br><span class="line">baidu.com name server ns2.baidu.com.</span><br><span class="line">baidu.com name server ns4.baidu.com.</span><br><span class="line">baidu.com name server ns3.baidu.com.</span><br><span class="line">baidu.com name server ns7.baidu.com.</span><br><span class="line">baidu.com name server dns.baidu.com.</span><br></pre></td></tr></table></figure>



<h2 id="SOA记录"><a href="#SOA记录" class="headerlink" title="SOA记录"></a>SOA记录</h2><p>起始授权记录，用于指定NS记录中主DNS服务器</p>
<p>“起始授权记录，用于一个区域的开始，SOA记录后的所有信息均是用于控制这个区域的，每个区域数据库文件都必须包含一个SOA记录，并且必须是其中的第一个资源记录，用以标识DNS服务器管理的起始位置，SOA说明能解析这个区域的dns服务器中哪个是主服务器<br>例如，NS记录说明了有两个DNS服务器负责baidu.com的域名解析，但哪个是主服务器呢？这个任务由SOA记录来完成”</p>
<p>查询方式</p>
<p>1、nslookup -type&#x3D;SOA domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup -type=SOA baidu.com</span><br><span class="line">Server:		10.211.1.8</span><br><span class="line">Address:	10.211.1.8#53</span><br><span class="line"></span><br><span class="line">baidu.com</span><br><span class="line">	origin = dns.baidu.com</span><br><span class="line">	mail addr = sa.baidu.com</span><br><span class="line">	serial = 2012145588</span><br><span class="line">	refresh = 300</span><br><span class="line">	retry = 300</span><br><span class="line">	expire = 2592000</span><br><span class="line">	minimum = 7200</span><br></pre></td></tr></table></figure>

<p>2、host -t SOA domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ host -t NS baidu.com</span><br><span class="line">baidu.com name server ns2.baidu.com.</span><br><span class="line">baidu.com name server ns4.baidu.com.</span><br><span class="line">baidu.com name server ns3.baidu.com.</span><br><span class="line">baidu.com name server ns7.baidu.com.</span><br><span class="line">baidu.com name server dns.baidu.com.</span><br><span class="line">➜  ~ host -t SOA baidu.com</span><br><span class="line">baidu.com has SOA record dns.baidu.com. sa.baidu.com. 2012145588 300 300 2592000 7200</span><br></pre></td></tr></table></figure>

<p>比较权威DNS上的SOA记录</p>
<p>host -C domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ host -C baidu.com</span><br><span class="line">Nameserver 220.181.33.31:</span><br><span class="line">	baidu.com has SOA record dns.baidu.com. sa.baidu.com. 2012145588 300 300 2592000 7200</span><br><span class="line">Nameserver 240e:940:603:4:0:ff:b01b:589a:</span><br><span class="line">	baidu.com has SOA record dns.baidu.com. sa.baidu.com. 2012145588 300 300 2592000 7200</span><br><span class="line">Nameserver 110.242.68.134:</span><br><span class="line">	baidu.com has SOA record dns.baidu.com. sa.baidu.com. 2012145588 300 300 2592000 7200</span><br><span class="line">Nameserver 112.80.248.64:</span><br><span class="line">	baidu.com has SOA record dns.baidu.com. sa.baidu.com. 2012145588 300 300 2592000 7200</span><br><span class="line">Nameserver 240e:bf:b801:1002:0:ff:b024:26de:</span><br><span class="line">	baidu.com has SOA record dns.baidu.com. sa.baidu.com. 2012145588 300 300 2592000 7200</span><br><span class="line">Nameserver 180.76.76.92:</span><br><span class="line">	baidu.com has SOA record dns.baidu.com. sa.baidu.com. 2012145588 300 300 2592000 7200</span><br><span class="line">Nameserver 14.215.178.80:</span><br><span class="line">	baidu.com has SOA record dns.baidu.com. sa.baidu.com. 2012145588 300 300 2592000 7200</span><br></pre></td></tr></table></figure>



<h2 id="CNAME记录"><a href="#CNAME记录" class="headerlink" title="CNAME记录"></a>CNAME记录</h2><p>规范名称记录，将一个别名关联到另一个域名</p>
<p>查询方式</p>
<p>1、nslookup -type&#x3D;CNAME domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup -type=cname www.baidu.com</span><br><span class="line">Server:		2408:8409:1801:5eba:9c9e:5813:ea08:23f9</span><br><span class="line">Address:	2408:8409:1801:5eba:9c9e:5813:ea08:23f9#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">www.baidu.com	canonical name = www.a.shifen.com.</span><br><span class="line"></span><br><span class="line">Authoritative answers can be found from:</span><br></pre></td></tr></table></figure>

<p>2、host -t came domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ host -t cname www.baidu.com</span><br><span class="line">www.baidu.com is an alias for www.a.shifen.com.</span><br></pre></td></tr></table></figure>



<h2 id="MX记录"><a href="#MX记录" class="headerlink" title="MX记录"></a>MX记录</h2><p>邮件交换记录，用于指定邮件服务器</p>
<p>MX记录值必须为域名形式</p>
<p>设置MS记录必须创建MX记录值的A记录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup -type=MX baidu.com</span><br><span class="line">Server:		2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02</span><br><span class="line">Address:	2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">baidu.com	mail exchanger = 15 mx.n.shifen.com.</span><br><span class="line">baidu.com	mail exchanger = 20 mx1.baidu.com.</span><br><span class="line">baidu.com	mail exchanger = 20 usmx01.baidu.com.</span><br><span class="line">baidu.com	mail exchanger = 20 jpmx.baidu.com.</span><br><span class="line">baidu.com	mail exchanger = 10 mx.maillb.baidu.com.</span><br><span class="line">baidu.com	mail exchanger = 20 mx50.baidu.com.</span><br><span class="line"></span><br><span class="line">Authoritative answers can be found from:</span><br><span class="line"></span><br><span class="line">➜  ~ nslookup mx.n.shifen.com</span><br><span class="line">Server:		2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02</span><br><span class="line">Address:	2408:8409:1890:930d:dd4d:ca4d:dc8a:cc02#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	mx.n.shifen.com</span><br><span class="line">Address: 111.202.115.85</span><br><span class="line">Name:	mx.n.shifen.com</span><br><span class="line">Address: 111.206.215.185</span><br></pre></td></tr></table></figure>

<p><strong>查询方式</strong></p>
<p>1、nslookup -type&#x3D;MX domain</p>
<p>2、host -t mx domain</p>
<h2 id="TXT记录"><a href="#TXT记录" class="headerlink" title="TXT记录"></a>TXT记录</h2><p>文本形式的DNS记录</p>
<p>查询方式</p>
<p>1、nslookup -type&#x3D;txt domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup -type=txt baidu.com</span><br><span class="line">Server:		2408:8409:1801:5eba:9c9e:5813:ea08:23f9</span><br><span class="line">Address:	2408:8409:1801:5eba:9c9e:5813:ea08:23f9#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">baidu.com	text = &quot;google-site-verification=GHb98-6msqyx_qqjGl5eRatD3QTHyVB6-xQ3gJB5UwM&quot;</span><br><span class="line">baidu.com	text = &quot;v=spf1 include:spf1.baidu.com include:spf2.baidu.com include:spf3.baidu.com include:spf4.baidu.com a mx ptr -all&quot;</span><br><span class="line">baidu.com	text = &quot;_globalsign-domain-verification=qjb28W2jJSrWj04NHpB0CvgK9tle5JkOq-EcyWBgnE&quot;</span><br><span class="line"></span><br><span class="line">Authoritative answers can be found from:</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2、host -t txt domain</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ host -t txt baidu.com</span><br><span class="line">baidu.com descriptive text &quot;v=spf1 include:spf1.baidu.com include:spf2.baidu.com include:spf3.baidu.com include:spf4.baidu.com a mx ptr -all&quot;</span><br><span class="line">baidu.com descriptive text &quot;_globalsign-domain-verification=qjb28W2jJSrWj04NHpB0CvgK9tle5JkOq-EcyWBgnE&quot;</span><br><span class="line">baidu.com descriptive text &quot;google-site-verification=GHb98-6msqyx_qqjGl5eRatD3QTHyVB6-xQ3gJB5UwM&quot;</span><br></pre></td></tr></table></figure>



<h2 id="PTR记录"><a href="#PTR记录" class="headerlink" title="PTR记录"></a>PTR记录</h2><p>DNS指针记录,A记录的逆向</p>
<p>[域名系统 (DNS) ]将[域名]与 [IP 地址]相关联。DNS 指针记录（简称 PTR）提供与 IP 地址关联的域名。DNS PTR 记录与[“A”记录]完全相反，它提供与域名关联的 IP 地址。</p>
<p>DNS PTR 记录用于[反向 DNS 查找]。当用户尝试在其浏览器中访问域名时，会进行 DNS 查找，将域名与 IP 地址相匹配。反向 DNS 查找与此过程相反：它是以 IP 地址开始并查找域名的查询。</p>
<p>查询方式</p>
<p>1、nslookup ip</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ nslookup 111.202.115.85</span><br><span class="line">Server:		10.211.1.8</span><br><span class="line">Address:	10.211.1.8#53</span><br><span class="line"></span><br><span class="line">85.115.202.111.in-addr.arpa	name = mx20.baidu.com.</span><br></pre></td></tr></table></figure>

<p>2、host ip</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ host 111.202.115.85</span><br><span class="line">85.115.202.111.in-addr.arpa domain name pointer mx20.baidu.com.</span><br></pre></td></tr></table></figure>



<h2 id="SRV记录"><a href="#SRV记录" class="headerlink" title="SRV记录"></a>SRV记录</h2><p>服务定位记录，用于指定服务器提供什么服务</p>
<p>查询方式</p>
<p>1、</p>
<p>2、</p>
<p>3、dig domain SRV</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ dig jd.com SRV</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; jd.com SRV</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 34307</span><br><span class="line">;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 0</span><br><span class="line"></span><br><span class="line">;; QUESTION SECTION:</span><br><span class="line">;jd.com.				IN	SRV</span><br><span class="line"></span><br><span class="line">;; AUTHORITY SECTION:</span><br><span class="line">jd.com.			10	IN	SOA	ns1.jdcache.com. apollo.jd.com. 2015205106 10800 3600 604800 38400</span><br><span class="line"></span><br><span class="line">;; Query time: 66 msec</span><br><span class="line">;; SERVER: 2408:8409:1840:3e4b:1a3a:5d9f:8bd5:8011#53(2408:8409:1840:3e4b:1a3a:5d9f:8bd5:8011)</span><br><span class="line">;; WHEN: Tue Aug 02 09:22:25 CST 2022</span><br><span class="line">;; MSG SIZE  rcvd: 79</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h1><h2 id="dig-trace-DNS-查询"><a href="#dig-trace-DNS-查询" class="headerlink" title="dig trace DNS 查询"></a>dig trace DNS 查询</h2><p>特点：</p>
<p>1、直接从根域名服务器开始查询</p>
<p>2、本机代替递归服务器（本地DNS服务器）完成迭代查询</p>
<p>流程：</p>
<p>1、本地设备向根域名服务器（.） 查询 bilibili.com</p>
<p><img src="/Users/admin/study/network/DNS/image-20221017093725159.png" alt="image-20221017093725159"></p>
<p>2、根域名服务器识别为.com顶级域，告知需要去顶级域名服务器（.com)查询，并将顶级域名服务器返回给本地设备</p>
<p><img src="/Users/admin/study/network/DNS/image-20221017093914858.png" alt="image-20221017093914858"></p>
<p>3、本地设备又向顶级域名服务器请求查询bilibili.com</p>
<p><img src="/Users/admin/study/network/DNS/image-20221017094224747.png" alt="image-20221017094224747"></p>
<p>4、.com顶级域名服务器没有bilibili.com记录，告知需要去查询的域名服务器</p>
<p><img src="/Users/admin/study/network/DNS/image-20221017094643206.png" alt="image-20221017094643206"></p>
<p>5、本地设备再次向上一步请求返回的域名服务器发起请求</p>
<p><img src="/Users/admin/study/network/DNS/image-20221017094812982.png" alt="image-20221017094812982"></p>
<p>6、返回查询结果</p>
<p><img src="/Users/admin/study/network/DNS/image-20221017095037791.png" alt="image-20221017095037791"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">➜  gitlabgd dig +trace bilibili.com</span><br><span class="line"></span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; +trace bilibili.com</span><br><span class="line">;; global options: +cmd</span><br><span class="line">.			241981	IN	NS	c.root-servers.net.</span><br><span class="line">.			241981	IN	NS	h.root-servers.net.</span><br><span class="line">.			241981	IN	NS	f.root-servers.net.</span><br><span class="line">.			241981	IN	NS	a.root-servers.net.</span><br><span class="line">.			241981	IN	NS	j.root-servers.net.</span><br><span class="line">.			241981	IN	NS	k.root-servers.net.</span><br><span class="line">.			241981	IN	NS	i.root-servers.net.</span><br><span class="line">.			241981	IN	NS	e.root-servers.net.</span><br><span class="line">.			241981	IN	NS	g.root-servers.net.</span><br><span class="line">.			241981	IN	NS	l.root-servers.net.</span><br><span class="line">.			241981	IN	NS	m.root-servers.net.</span><br><span class="line">.			241981	IN	NS	b.root-servers.net.</span><br><span class="line">.			241981	IN	NS	d.root-servers.net.</span><br><span class="line">.			432985	IN	RRSIG	NS 8 0 518400 20221028050000 20221015040000 18733 . DfUYqN7yeMl12Qrjlk3XF3uXzeVKCPOO4Z8cJIy67ago71Oad9W2iyey rpKZ5wK3FJqSB5HY0s7IICtLOUGIgWjYGJ33xAI9JzbkMVX67bxYr3lQ hkQrPLs/KAU+vBR1cq18+97gDaBb0LZ6jmNP5TQ73wKDvAlK0sQ5X0J8 08ZdLsGtyCoyiO+xxYwdD/t4AaetIjIuSaImTlRQ+PHL/CobmS563iUX dnSBzM5zzN5kmWAtyVvLtZ7illgOmoIrF3wkau9f28YOrpuKqliz33vy 9thColeVbEcXG2AIy4yBP4ZwPO0DgBeWSz9zPKKMTySoIhKaLV10l9sK zhizPw==</span><br><span class="line">;; Received 1097 bytes from 10.211.1.8#53(10.211.1.8) in 80 ms</span><br><span class="line"></span><br><span class="line">com.			172800	IN	NS	a.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	b.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	c.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	d.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	e.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	f.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	g.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	h.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	i.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	j.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	k.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	l.gtld-servers.net.</span><br><span class="line">com.			172800	IN	NS	m.gtld-servers.net.</span><br><span class="line">com.			86400	IN	DS	30909 8 2 E2D3C916F6DEEAC73294E8268FB5885044A833FC5459588F4A9184CF C41A5766</span><br><span class="line">com.			86400	IN	RRSIG	DS 8 1 86400 20221029050000 20221016040000 18733 . Zx+IPittAJsoSFfKumFd2cuV6DbY7iQkAwl4bHPnujYugg6Y+DjwnuIw /jDZp+k2oVS6fLEtAHAzk0UouEcjEtvtHLoDQ1AsYsiWHsPEUrof/+1/ iTm/6dNWP85MPx0CCI9VQ+2HTvGL+AQvhdwE8WNpNdXQB4KB6aQ2z1vD x0zSuWjpQMcRRZsnYUj/k5vCyFSXa+fQQKF276sFzDajY+Wop+dh6qVx OKUk0NvdycUcuMWMOCEV0hN75Ip1xuQt8mcaJ+WCP8ovudw6OJNmuR1e udFdPLhPuyHCZotiAMZPaKMBXEkkCpCUBLWc9QJni7y8Njca529YLEsC nB8DHA==</span><br><span class="line">;; Received 1172 bytes from 192.58.128.30#53(j.root-servers.net) in 89 ms</span><br><span class="line"></span><br><span class="line">bilibili.com.		172800	IN	NS	ns3.dnsv5.com.</span><br><span class="line">bilibili.com.		172800	IN	NS	ns4.dnsv5.com.</span><br><span class="line">CK0POJMG874LJREF7EFN8430QVIT8BSM.com. 86400 IN NSEC3 1 1 0 - CK0Q2D6NI4I7EQH8NA30NS61O48UL8G5  NS SOA RRSIG DNSKEY NSEC3PARAM</span><br><span class="line">CK0POJMG874LJREF7EFN8430QVIT8BSM.com. 86400 IN RRSIG NSEC3 8 2 86400 20221022042440 20221015031440 32298 com. mHMUqA9ScK1Cq8VuAlPTPHgJ7bAPl+WDpIPjo3d8Yhmpe4cJc5zUnzRI bLsEK5UyUfSn2Ytj5QF0J6XcShdavB9KWOBf5OVsstqXoi3oh59Nuuya KMZ5WRZ4TnY/aa79W7nMIB9mim4XKgdl3Tp7Oo40FrbvZ4JRf0onGxwk nZn3QbFrkzK7dJk/JIRGyR0yrif6fnmHRCOmWsdYkMiFog==</span><br><span class="line">34N8GNNORFKQBRKAKQ6EAHOKV8LMRBQM.com. 86400 IN NSEC3 1 1 0 - 34N8S08BNASFP6SPNO4BK7P22NP6G3FV  NS DS RRSIG</span><br><span class="line">34N8GNNORFKQBRKAKQ6EAHOKV8LMRBQM.com. 86400 IN RRSIG NSEC3 8 2 86400 20221022052951 20221015041951 32298 com. A70o2ULj6ZL1XHFdINu50dMDIS62LYYfxEwxYNMmQyy+H9Ui+GNHblYB iPajMQvtdLrDaP5aLAKFUJHh+7bpVlM7Smg+6OHaf6DTeK1RvHXMYE9y rqsDQUfAzHJzhORu+fZpPypOW01ZjRSTu6xdbtZvVO+Gjfe20baXRnwT 4Mlvp62m+GInqKBdSOFg4miytXlk1L9b2LOXO8EOB595JQ==</span><br><span class="line">;; Received 960 bytes from 192.31.80.30#53(d.gtld-servers.net) in 258 ms</span><br><span class="line"></span><br><span class="line">bilibili.com.		60	IN	A	119.3.70.188</span><br><span class="line">bilibili.com.		60	IN	A	120.92.78.97</span><br><span class="line">bilibili.com.		60	IN	A	139.159.241.37</span><br><span class="line">bilibili.com.		60	IN	A	8.134.50.24</span><br><span class="line">bilibili.com.		60	IN	A	47.103.24.173</span><br><span class="line">bilibili.com.		86400	IN	NS	ns4.dnsv5.com.</span><br><span class="line">bilibili.com.		86400	IN	NS	ns3.dnsv5.com.</span><br><span class="line">;; Received 175 bytes from 152.136.2.28#53(ns3.dnsv5.com) in 10 ms</span><br></pre></td></tr></table></figure>



<p>ping DNS 查询</p>
<h2 id="清空缓存"><a href="#清空缓存" class="headerlink" title="清空缓存"></a>清空缓存</h2><h3 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h3><p>sudo killall -HUP mDNSResponder</p>
<h2 id="DNSSEC"><a href="#DNSSEC" class="headerlink" title="DNSSEC"></a>DNSSEC</h2><p>域名系统安全扩展DNS security extensions</p>
<p>可有效防御DNS欺骗和缓存污染，使用数字签名保证DNS返回包的真实性和完整性</p>
<p><a target="_blank" rel="noopener" href="https://dnsviz.net/d/pizzaseo.com/dnssec/">https://dnsviz.net/d/pizzaseo.com/dnssec/</a></p>
<p><a target="_blank" rel="noopener" href="https://help.aliyun.com/document_detail/149662.html">https://help.aliyun.com/document_detail/149662.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/07/29/network/dns/DNS%E8%AE%B0%E5%BD%95%E5%8F%8A%E8%AE%BE%E7%BD%AE/" data-id="cls9xffm900005yl4bz8je7gu" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2024/02/06/security/sectools/burpsuite/proxy%E6%A8%A1%E5%9D%97_match_%E5%8C%B9%E9%85%8D%E6%9B%BF%E6%8D%A2%E4%B8%AD%E6%96%87/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          proxy模块_match_匹配替换中文
        
      </div>
    </a>
  
  
    <a href="/2022/06/21/network/dns/%E5%85%AC%E7%BD%91DNS%20IP/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/security/">security</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/burpsuite/" rel="tag">burpsuite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sectools/" rel="tag">sectools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/" rel="tag">security</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/burpsuite/" style="font-size: 10px;">burpsuite</a> <a href="/tags/sectools/" style="font-size: 10px;">sectools</a> <a href="/tags/security/" style="font-size: 10px;">security</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/02/06/%E4%B8%80%E4%B8%87%E5%B0%8F%E6%97%B6%E5%AE%9A%E5%BE%8B/">一万小时定律</a>
          </li>
        
          <li>
            <a href="/2024/02/06/security/sectools/burpsuite/proxy%E6%A8%A1%E5%9D%97_match_%E5%8C%B9%E9%85%8D%E6%9B%BF%E6%8D%A2%E4%B8%AD%E6%96%87/">proxy模块_match_匹配替换中文</a>
          </li>
        
          <li>
            <a href="/2022/07/29/network/dns/DNS%E8%AE%B0%E5%BD%95%E5%8F%8A%E8%AE%BE%E7%BD%AE/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/06/21/network/dns/%E5%85%AC%E7%BD%91DNS%20IP/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>